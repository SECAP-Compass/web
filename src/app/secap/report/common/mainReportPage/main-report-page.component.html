<div class="grid">
  <div class="col-12">
    <p-panel header="Information" [toggleable]="true">
        <div *ngIf="city">
          City: {{ city }} 
        </div>
        <div *ngIf="district">
          District: {{ district }} 
        </div>
        <div *ngIf="address">
          Address: {{ address }} 
        </div>
        <div *ngIf="buildingId">
          Building Address: {{ buildingId }}
        </div>
    </p-panel>
    <div class="card">
        <div class="card-header">
          <p-toolbar>
            <h5>Report</h5>
            <ng-template pTemplate="right">
                <div class="my-1">
                    <button 
                      pButton 
                      pRipple 
                      label="Generate Report" 
                      class="p-button-success" 
                      (click)="generateReport()">
                    </button>
                </div> 
                 <!-- 
                &nbsp; &nbsp;
                <div class="my-2">
                  <button 
                    pButton 
                    pRipple 
                    label="Refresh Report" 
                    class="p-button-success" 
                    (click)="refreshReport()">
                  </button>
              </div>-->
            </ng-template>
          </p-toolbar>
        </div>
  
        <div class="card-body">
          <p class="m-0">
            <p-dropdown
            class="mr-2"
            [options]="emissionTypes"
            [(ngModel)]="selectedEmission"
            placeholder="Emission Type"/>
    
            <p-dropdown
            class="mr-2"
            [options]="gasTypes"
            [(ngModel)]="selectedGas"
            placeholder="Gas Type"  
            [disabled]="selectedEmission !== 'Total'">
            </p-dropdown>
            
            <p-dropdown
            class="mr-2"
            [options]="dataViewTypes"
            [(ngModel)]="selectedDataView"
            (onChange)="setDataViewSettings()"
            placeholder="Data View Type"/>
    
            <p-calendar 
            view="month" 
            dateFormat="mm/yy" 
            [showIcon]="true" 
            [(ngModel)]="dates" 
            selectionMode="range" 
            [readonlyInput]="true" />
          </p>
        </div>

        <p-panel header="Data View Explanation" [toggleable]="true">
          <p>
            this will be an explanation about the graph below
          </p>
        </p-panel>

        <div *ngIf="isGenerateReport" class="report">
          <container-element [ngSwitch]="selectedDataView">
            <!-- the same view can be shown in more than one case -->
            <div *ngSwitchCase="'Tabular'">
              tabular
            </div>
            <div *ngSwitchCase="'Pie'">
              <p-chart type="pie" [data]="data" [options] = "options" width="70vw" height="80vh"></p-chart>
              <button type="button" pButton (click)="update($event)"></button>
            </div>
            <div *ngSwitchCase="'Line'">
              <p-chart type="line" [data]="data"  [options] = "options" width="70vw" height="80vh"></p-chart>
              <button type="button" pButton (click)="update($event)"></button>
            </div>
            <div *ngSwitchCase="'Bar'">
              <p-chart type="bar" [data]="data"  [options] = "options" width="70vw" height="80vh"></p-chart>
              <button type="button" pButton (click)="update($event)"></button>
            </div>
          </container-element>
        </div>
    </div>
  </div>
</div>
